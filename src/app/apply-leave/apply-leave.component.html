<form [formGroup]="postleave" >
  <div class="container">
    <!-- <h6 style="margin-left: 92%;color: #a6a2a2;"><strong>{{empid}}</strong></h6> -->
    <div class="card" style="margin-top:40px">    
      <div class="card-body">
        <div class="row" style="justify-content:center;text-align: center;">
          <div class="col-md-12">
            <div class="formcontrol">
              <h2 style="justify-content:center;text-align: center;">Enter Leave Details here</h2>
            </div>
          </div>
        </div>
        <hr>
        
        <div class="row" style="justify-content:center;text-align: center;">
          <div class="col-6" style="float: left;width: 25%;margin-top: 6px;">
            <label><b>Leave Type: </b></label></div>
            <div class="col-7" >
            <select class="formcontrol" formControlName="leaveType" style="height: 40px;
            float: left;width: 75%;margin-top: 6px;height: fit-content;" >
              <option [ngValue]="null" disabled>Select Country</option>
              <option value="casual">Casual Leave</option>
              <option value="sick">Sick Leave</option>
              <option value="bereavement">Bereavement Leave</option>
              <option value="privilege">Privilege Leave</option>
              <option value="maternity">Maternity Leave</option>
            </select>
            <!-- <mat-form-field appearance="fill">
  <mat-select formControlName="leaveType"  [(ngModel)]="selectedItem" (select)="selected()">
    <mat-option value="casual">Casual Leave</mat-option>
    <mat-option value="sick">Sick Leave</mat-option>
    <mat-option value="bereavement">Bereavement Leave</mat-option>
    <mat-option value="privilege">Privilege Leave</mat-option>
    <mat-option value="maternity">Maternity Leave</mat-option>
  </mat-select>
</mat-form-field> -->
</div>
        </div>
<br>
        <div class="row" style="justify-content:center;text-align: center;">
          <div class="col-6"  style="float: left;width: 24%;margin-top: 6px;">
              <label><b>Date From:</b> </label></div>
              <div class="col-7">
                <mat-form-field style="height: 40px;float: left;width: 75%;padding-left: 9px" id="field">
                  <input matInput [matDatepicker]="picker" [matDatepickerFilter]="FrommyDateFilter" placeholder="Choose a date"
                  style="padding-left: 10px;height: 40px;margin-top: 6px;" [(ngModel)]="fromdate" id="date2"
                  formControlName="fromdate">
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
             
<!-- <input type="text"
placeholder="Datepicker"
class="form-control"
bsDatepicker
[daysDisabled]="[6,0]"
formControlName="fromdate"
> -->


<!-- <input class="form-control" placeholder="Daterangepicker" formControlName="fromdate" type="date"
bsDaterangepicker [daysDisabled]="[6,0]" [(ngModel)]="fromdate"> -->



                <!-- <input class="formcontrol" type="date" formControlName="fromdate" 
                style="height: 40px;float: left;width: 75%;margin-top: 6px;" [(ngModel)]="fromdate"> -->
                <input type="submit" (click)="getfirstnumber()" value="confirm" style="margin-top: 25px;">
                <!-- min="{{CurrentDate|date:'yyyy-mm-dd'}}"| placeholder="Select your From date"> -->
                <!-- <mat-form-field appearance="fill">
                  <input matInput [matDatepicker]="dtAdm" [matDatepickerFilter]="myDateFilter" formControlName="dateOfAdmission">
                  placeholder="Daterangepicker" bsDaterangepicker [daysDisabled]="[6,0]"
                  <mat-datepicker-toggle matSuffix [for]="dtAdm"></mat-datepicker-toggle>
    <mat-datepicker #dtAdm ></mat-datepicker>
                </mat-form-field>  -->
              </div>
          </div>
        <!-- </div> -->
<br>
        <div class="row" style="justify-content:center;text-align: center;">
          <div class="col-6"style="float: left;width: 24%;margin-top: 6px;">
              <label><b>Date To:</b></label>
            </div>
            <div class="col-7">
              <mat-form-field style="height:40px; float: left; width: 75%;padding-left: 9px">
                <input matInput [matDatepicker]="pickers" [matDatepickerFilter]="TomyDateFilter" placeholder="Choose a date"
                style="padding-left: 10px;height: 40px;float: left;width: 75%;margin-top: 6px; " [(ngModel)]="todate" id="date1"
                formControlName="todate">
                <mat-datepicker-toggle matSuffix [for]="pickers"></mat-datepicker-toggle>
                <mat-datepicker #pickers></mat-datepicker>
              </mat-form-field>
              <!-- <input class="formcontrol" type="date" formControlName="todate" 
              style="height: 40px;float: left;width: 75%;margin-top: 6px;" [(ngModel)]="todate"> -->
              <input type="submit" (click)="getsecondnumber()" value="confirm" style="margin-top: 34px;">
            </div>
          </div>
        <!-- </div>focusout -->
        <br>
<br>
        <div class="row" style="justify-content:center;text-align: center;">
          <div class="col-6" style="float: left;width: 25%;margin-top: 6px;" >
              <label><b>Number of days: </b></label>
            </div>
              <div class="col-7">
              <input class="formcontrol" type="text" formControlName="noofdays" value={{countinNumber}} 
              style="height: 40px;float: left;width: 75%;margin-top: 6px;" (click)="getnumber()" readonly >
            </div>
          </div>
 <br>

        <div class="row" style="justify-content:center;text-align: center;">
          <div class="col-6"  style="float: left;width: 25%;margin-top: 6px;">
              <label><b>Leave Reason: </b></label></div>
              <div class="col-7">
              <textarea formControlName="reasonforapply"
              style="height: 40px;float: left;width: 75%;margin-top: 6px;"></textarea>

          </div>
        </div>
        <br>
        <hr>
        <div class="row" style="justify-content:center;text-align: center;">
          <div class="col-md-12">
            <button type="button" class="btn btn-danger" id="cancel"(click)="cancel()" style="margin-right: 23px;">Cancel</button>
            <button type="button" class="btn btn-primary" style="margin-right: 23px;" (click)="save()">Save changes</button>
             <button type="button" class="btn btn-success"(click)="leaveApply(success)" style="margin-right: 23px;"> Apply leave</button>
          </div>
        </div>
      </div>
<br>
    </div>
   <br>
   <br> 

  <!-- <div class="modal-content" style="left: 380px;"  *ngIf="modeModal">
  <div class="modal-header" style="text-align:center;"><b> Enter Leave Details Here
  </b>
  </div>
  <div class="modal-body">
    <label> Leave Type </label>
    <mat-form-field appearance="fill">
      <mat-select formControlName="leaveType"  [(ngModel)]="selectedItem" (select)="selected()">
        <mat-option value="casual">Casual Leave</mat-option>
        <mat-option value="sick">Sick Leave</mat-option>
        <mat-option value="bereavement">Bereavement Leave</mat-option>
        <mat-option value="privilege">Privilege Leave</mat-option>
        <mat-option value="maternity">Maternity Leave</mat-option>
      </mat-select>
    </mat-form-field>
    <br>
    <br>
    <label>Number of days : </label>
    <input type="number" formControlName="noofdays">
   <br>
   <br>
    <label style="margin-right:5px;">From Date: </label>
    <input type="date" formControlName="fromdate">
  <mat-form-field appearance="fill">
      <input matInput [matDatepicker]="myDatePicker">
      <mat-datepicker-toggle  [for]="myDatePicker" matSuffix ></mat-datepicker-toggle>
      <mat-datepicker #myDatepicker></mat-datepicker>
    </mat-form-field>

  <label style="margin-left: 20px;margin-right:5px;"> To Date: </label>
    <input type="date" formControlName="todate">

    <br>
<br>
 <h3>Reason for applying leave</h3>
<textarea matInput placeholder="Reason ..."></textarea>
 <div class="row">
<div class="col-md-12">
<label >Reason for applying leave</label>
  <textarea type="text" class="form-control" placeholder="Enter Reason Here..." formControlName="reasonforapply"></textarea>
</div>
</div>
  </div>

  <div class="modal-footer">
   <button type="button" class="btn btn-danger" id="cancel"(click)="cancel()">Cancel</button>
   <button type="button" class="btn btn-primary">Save changes</button>
    <button type="button" class="btn btn-success"(click)="leaveApply()"> Apply leave</button>
  </div>-->
</div>
</form>

<ng-template #failure let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">NOTE</h4>
  </div>
  <div class="modal-body">
    The leave which your are selected is unavailable. You will get Loss of pay if you proceed.
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary">proceed</button>
    <button type="button" class="btn btn-danger" (click)="cancel()">cancel</button>
  </div>
</ng-template>

<ng-template #success let-modal>
  <div class="modal-header">
    <div class="modal-title" id="modal-basic-title">
      <i class="bi bi-check-circle" style='font-size:48px;color:green;margin-left: -22px;'></i>
    </div>
  </div>
  <div class="modal-body" style="text-align:center">
    Your Leave has been successfully Updated.
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" style="text-align: center;justify-content: center;" (click)="ok()">OK</button>
  </div>
</ng-template>