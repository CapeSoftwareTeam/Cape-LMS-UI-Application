<div class="example-container mat-elevation-z8"
  [ngStyle]="{'filter': (blurMode ? 'blur(2px)' : 'blur(0px)') ,'pointer-events': (blurMode ? 'none' : 'visible')}">
  <mat-toolbar style="background-color:rgb(64, 177, 221);">

    <!-- <img src="../../assets/calendaar.jpg" alt="calendar"><mat-toolbarpadding-left: 92px; -->
    <mat-toolbar-row style="overflow: hidden;max-height: 500px;">
      <!-- margin-left: 68rem;rgb(9, 9, 211)rgb(185, 189, 192);left:72rem;style="margin-left: 450px;" -->
      <button mat-button style='color:rgb(0, 0, 7); '>
        <!-- <mat-icon style='font-size:30px;color:rgb(1, 1, 20);' (click)="sidenav.toggle()">menu</mat-icon> -->
      </button>
      <h2> Cape Electric Private Limited </h2>
      <button mat-button style="margin-left:auto;">
        <mat-icon mat-raised-button [matBadge]=notification [matBadgeHidden]="hidden" matBadgePosition="above after"
          matBadgeColor="accent" style='font-size:26px;color:rgb(1, 1, 17);' (click)="callCalculation()">
          notifications</mat-icon>
      </button>
      <div class="dropdown">
        <button mat-button style='color:rgb(0, 0, 7);margin-left:auto;' data-toggle="dropdown"
          class="btn btn-default dropdown-toggle" [matMenuTriggerFor]="menu">
          <mat-icon style='font-size:30px;color:rgb(1, 1, 20);margin-left:auto;'>person</mat-icon>
          <b style="font-size: 16px;">
            {{empid}}
          </b>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="callProfile()">Profile</button>
          <button mat-menu-item (click)="changePassword()">Change Password</button>
          <button mat-menu-item (click)="signout()">Log out</button>

        </mat-menu>

      </div>
    </mat-toolbar-row>
  </mat-toolbar>

  <!-- <mat-tab-group>
    <mat-tab label="Leave Management Systems" (click)="callLmsPage()"> Leave Management Systems</mat-tab>
    <mat-tab label="Time Schedule" (click)="callComingSoon()"> Time Schedule </mat-tab>
    <mat-tab label="Relieving Employee Details" (click)="callComingSoon()"> Relieving Employee Details </mat-tab> -->
  <!-- </mat-tab-group> -->
  <mat-tab-group [selectedIndex]="selected.value"
    (selectedIndexChange)="selected.setValue($event);getSelectedindex($event);" mat-align-tabs="center">
    <mat-tab style="font-family: system-ui;" *ngFor="let tab of tabs; let index = index" [label]="tab"
      (click)="clicktab($event)">
      <!-- <button mat-raised-button
            class="example-add-tab-button"
            (click)="addTab()" style="float:right;">
      Add new tab
    </button>

      <button mat-raised-button
              class="example-delete-tab-button"
              [disabled]="tabs.length === 1"
              (click)="removeTab(index)"  style="float:right;">
        Delete Tab
      </button> -->

      <!-- <div class="content" > -->
      <!-- <h1 *ngIf="tabName == 'Leave Management Systems'">Leave Management Systems</h1>
      <br>
      <button mat-flat-button
         *ngIf="tabName == 'Leave Management Systems'"
         style="color:blue" routerLink="/lmspage">Click here to access</button>
      <h1 *ngIf="tabName == 'Time Schedule'"> Time Schedule </h1>
    </div>style="justify-content: center;" text-decoration: underline;-->


      <div class="sidebar" *ngIf="tabName == 'Leave Management Systems'">
        <br>
        <div class="avatar" data-label="" id="avatar" style="justify-content: center;
        text-align: center;padding: 27px;margin-left: 38px;font-family: -webkit-body;">
        </div>
        <br>
        <br>
        <h4 style="justify-content: center;text-align: center;font-family: fangsong;"> {{name}}</h4>
        <h6 class="text-muted" style="justify-content: center;text-align: center;font-family: system-ui;">
          {{department}} - {{designation}}</h6>
        <hr>
        <mat-nav-list style="justify-content:center;text-align: center;align-items: center;" >
          <a mat-list-item (click)="callLmspage()"> My Home</a>
          <a mat-list-item (click)="termsCondition(termsContent)">Leave Policy</a>
          <a mat-list-item (click)="callHolidays()" style="justify-content:center;text-align: center;">Public
            Holidays</a>
          <a mat-list-item style="justify-content:center;text-align: center;" (click)="callApplyLeave()">Apply Leave</a>
          <a mat-list-item style="justify-content:center;text-align: center;" (click)="callHistory()">My History</a>
          <hr *ngIf="admin">
          <a mat-list-item (click)="calleditholidays()" *ngIf="admin">Add holidays</a>
          <a mat-list-item (click)="callRegisterForEmp()" *ngIf="admin">Add Employee</a>
          <a mat-list-item (click)="callEmployeeDetails()" *ngIf="managerasadmin">view employees</a>
          <a mat-list-item (click)="callRegister()" *ngIf="superadmin">Add HR</a>

          <!-- <button type="button" class="btn btn-light" (click)="signout()" *ngIf="admin">
            <i class="fa fa-sign-out" style="font-size:30px"></i></button> -->
        </mat-nav-list>

      </div>
      <div class="content" mat-elevation-z8>

        <app-lms-page *ngIf="lmspage && tabName == 'Leave Management Systems'"></app-lms-page>
        <app-profile *ngIf="profileinhome"></app-profile>
    <app-public-holidays *ngIf="publicholidaysinhome" ></app-public-holidays>
    <app-leave-status *ngIf="leavestatusinhome"></app-leave-status>
    <app-apply-leave *ngIf="applyleaveinhome"></app-apply-leave>
    <app-history *ngIf="historyinhome"></app-history>
    <app-employee-details *ngIf="employeedetailsinhome"></app-employee-details>
    <app-register *ngIf="registerinhome"></app-register>
    <app-holidays *ngIf="holidaysinhome"></app-holidays>
    <app-coming-soon *ngIf="comingsoon"></app-coming-soon>
      </div>

    </mat-tab>
  </mat-tab-group>

  <!-- <mat-tab-group>
    <mat-tab *ngFor="let yourVariable of yourLinks" let index = "index" [label]="yourVariable">
         <ng-template mat-tab-label>
            <a  mat-tab-link >
                   [routerLink]="yourVariable.path"
                  [routerLinkActiveOptions]="{exact: true}"
                  routerLinkActive #rla="routerLinkActive"> -->
  <!-- {{yourVariable.data['label']}} or however your links are set up -->
  <!--  </a>
        </ng-template>
   </mat-tab>
</mat-tab-group> -->
</div>

<!-- <div class="content" mat-elevation-z8 >
    <h1 > Leave management Systems </h1>
    <br>
    <button (click)="leave()">Apply Leave</button>
  </div> -->




<ng-template #termsContent let-modal>
  <form [formGroup]="leavePolicy">


    <!-- <div class="modal-header">

        <button type="button" class="btn btn-primary" printSectionId="printdiv">Print</button>
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('cancel click')"><i class="bi bi-x icon"></i> Cancel</button>
        </div> -->

    <div style="text-align: center; display: block;margin-top:15px ;">
      <h4 class="modal-title" style="display: contents;color: #6990f2;">Leave Policy</h4>

      <button mat-icon-button class="close-button" [mat-dialog-close]="true" *ngIf="cancel">
        <mat-icon class="close-icon" color="warn" (click)="onCancel()">close</mat-icon>
      </button>
    </div>
    <div class="modal-body" style="height:auto; ">
      <p *ngIf="successMsg" class="alert alert-success alert-dismissible fade show"
        style="text-align:center ;margin-left: 20px;margin-right:20px;"><strong>Success!</strong>Leave Policy
        Updated Successfully!</p>
      <p *ngIf="showErrorMessage" class="alert alert-danger alert-dismissible fade show"
        style="text-align:center ;margin-left: 20px;margin-right:20px;">
        <strong>Error! </strong>{{errorMessage}}
      </p>
      <p *ngIf="showErrorMessage1" class="alert alert-danger alert-dismissible fade show"
        style="text-align:center ;margin-left: 20px;margin-right:20px;">
        <strong>Error!</strong> Please choose a File
      </p>
      <div *ngIf="loading1" style="margin-left:150px ;">
        <circle-progress [percent]="100" [radius]="60" [outerStrokeWidth]="8" [innerStrokeWidth]="8"
          [outerStrokeColor]="'#78C000'" [innerStrokeColor]="'#C7E596'" [animation]="true"
          [animationDuration]="1000"></circle-progress>
      </div>
      <div *ngIf="updateFile1">
        <div class="upload">
          <input type="file" class="file-input" accept=".txt,.jpeg,.png,.jpg,.pdf" id="upload"
            (change)="onChange($event)" hidden>
          <label for="upload">
            <i class="fas fa-cloud-upload-alt">
            </i>
            <p style="text-align: center;color: #6990f2;" *ngIf="filename1">{{fileName1}}</p>
            <p style="text-align: center;color: #6990f2;" *ngIf="filename2">Browse to Choose File</p>
          </label>

        </div>
        <div class="row">
          <div class="text-center justify-content-center col-md-12" style="margin-bottom: -20px;">
            <button type="button" class="btn btn-success btn-xs mr-4" (click)="onUpload()" *ngIf="upload"><i
                class="fas fa-cloud-upload-alt"></i> Upload</button>
          </div>
        </div>
        <div class="row" style="margin-bottom:15px;margin-top: 15px;">
          <div class="col" style="width: 30% ;">
            <button class="btn btn-primary form-control  btn-block" id="button1" (click)="updateFile($event)"
              *ngIf="!upload"><i class="bi bi-pencil-square"></i> Update

            </button>
          </div>
          <div class="col">

            <button class="btn btn-danger form-control btn-block" id="submit" (click)="back()" *ngIf="!upload"><i
                class="bi bi-box-arrow-in-left"></i> Back

            </button>
          </div>
        </div>

      </div>
      <div *ngIf="fileUpload">
        <label class="form-lable">File Name</label>
        <input type="text" formControlName="filename" class="form-control">
        <br>


        <div class="row">
          <div class="text-center justify-content-center col-md-12" style="margin-bottom: -20px;">
            <button type="button" class="btn btn-success " (click)="onDownload()" *ngIf="!updateButton"
              id="userDownload" style="align-items: center;"> <i class="bi bi-download" style="color: white;"></i>
              Download</button>
          </div>
        </div>

        <div class="row" style="margin-bottom:15px;margin-top: 10px; ">
          <div class="col">
            <button type="button" class="btn btn-primary form-control btn-block" (click)="updateFileMethod()"
              *ngIf="updateButton"> <i class="bi bi-pencil-square"></i> Update</button>
          </div>
          <div class="col">
            <button type="button" class="btn btn-success form-control btn-block" (click)="onDownload()"
              href='javascript:void(0)' title="Download" *ngIf="downloadButton">
              <i class="bi bi-download" style="color: white;"></i> Download</button>
          </div>

        </div>

      </div>

    </div>

  </form>
</ng-template>
<div class="spinner" id="spinner" *ngIf="spinner">
  <div class="dot1"></div>
  <div class="dot2"></div>